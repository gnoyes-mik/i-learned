# μ¤ν”„λ§ ν•µμ‹¬ μ›λ¦¬ 

> π”” μ΄ ν”„λ΅μ νΈλ” κΉ€μν•λ‹μ μ¤ν”„λ§ ν•µμ‹¬ μ›λ¦¬ κ°•μλ¥Ό λ³΄κ³  μ •λ¦¬ν• ν”„λ΅μ νΈμ…λ‹λ‹¤

## λΉ„μ¦λ‹μ¤ μ”κµ¬μ‚¬ν•­κ³Ό μ„¤κ³„

### νμ›

- νμ›μ„ κ°€μ…ν•κ³  μ΅°νν•  μ μλ‹¤.
- νμ›μ€ μΌλ°κ³Ό VIP λ‘ κ°€μ§€ λ“±κΈ‰μ΄ μλ‹¤.
- νμ› λ°μ΄ν„°λ” μμ²΄ DBλ¥Ό κµ¬μ¶•ν•  μ μκ³ , μ™Έλ¶€ μ‹μ¤ν…κ³Ό μ—°λ™ν•  μ μλ‹¤.(λ―Έν™•μ •)

### μ£Όλ¬Έκ³Ό ν• μΈ μ •μ±…

- νμ›μ€ μƒν’μ„ μ£Όλ¬Έν•  μ μλ‹¤.
- νμ› λ“±κΈ‰μ— λ”°λΌ ν• μΈ μ •μ±…μ„ μ μ©ν•  μ μλ‹¤.
- ν• μΈ μ •μ±…μ€ λ¨λ“  VIPλ” 1000μ›μ„ ν• μΈν•΄μ£Όλ” κ³ μ • κΈμ•΅ ν• μΈμ„ μ μ©ν•΄λ‹¬λΌ.(λ‚μ¤‘μ— λ³€κ²½λ  μ μμ)
- ν• μΈ μ •μ±…μ€ λ³€κ²½ κ°€λ¥μ„±μ΄ λ†’λ‹¤. νμ‚¬μ κΈ°λ³Έ ν• μΈ μ •μ±…μ„ μ•„μ§ μ •ν•μ§€ λ»ν–κ³ , μ¤ν” μ§μ „κΉμ§€ κ³ λ―Όμ„ λ―Έλ£¨κ³  μ‹¶λ‹¤. μµμ•…μ κ²½μ° ν• μΈμ„ μ μ©ν•μ§€ μ•μ„ μ λ„ μλ‹¤.

<br>
μ”κµ¬μ‚¬ν•­μ„ λ³΄λ©΄ νμ› λ°μ΄ν„°, ν• μΈ μ •μ±… κ°™μ€ λ¶€λ¶„μ€ μ§€κΈ κ²°μ •ν•κΈ° μ–΄λ ¤μ΄ λ¶€λ¶„μ΄ μλ‹¤. κ·Έλ ‡λ‹¤κ³  μ΄λ° μ •μ±…μ΄ κ²°μ •λ  λ• κΉμ§€ κ°λ°μ„ λ¬΄κΈ°ν• κΈ°λ‹¤λ¦΄ μ λ„ μ—†λ‹¤.
<br>

> μ°Έκ³ : ν”„λ΅μ νΈ ν™κ²½μ„¤μ •μ„ νΈλ¦¬ν•κ² ν•λ ¤κ³  μ¤ν”„λ§ λ¶€νΈλ¥Ό μ‚¬μ©ν• κ²ƒ.<br>
> μ§€κΈμ€ μ¤ν”„λ§ μ—†λ” μμν• μλ°”λ΅λ§ κ°λ°μ„ μ§„ν–‰ν•λ‹¤.

## μ΄κΈ° κµ¬ν„ λ‹¨κ³„μ λ¬Έμ μ 

- ex) MemberServiceImpl.java

```java
public class MemberServiceImpl implements MemberService {

    private final MemberRepository memberRepository = new MemoryMemberRepository();

    // ...
}
```

- μ—­ν• κ³Ό κµ¬ν„μ„ μ¶©μ‹¤ν•κ² λ¶„λ¦¬λ¥Ό ν–λ‹¤ β†’ OK

- λ‹¤ν•μ„±λ„ ν™μ©ν•κ³ , μΈν„°νμ΄μ¤μ™€ κµ¬ν„ κ°μ²΄λ¥Ό λ¶„λ¦¬ν–λ‹¤ β†’ OK

- OCP, DIPμ™€ κ°™μ€ κ°μ²΄μ§€ν–¥ μ„¤κ³„ μ›μΉ™μ„ μ¤€μν–λ‹¤ β†’ κ·Έλ ‡κ² λ³΄μ΄μ§€λ§ μ‚¬μ‹¤μ€ μ•„λ‹λ‹¤

    - DIP : λ©¤λ²„ μ„λΉ„μ¤ ν΄λΌμ΄μ–ΈνΈ(MemberServiceImpl)μ€ μΈν„°νμ΄μ¤(MemberRepository)λΏλ§μ•„λ‹λΌ κµ¬ν„μ²΄(MemoryMemberRepository)λ„ μμ΅΄ν•κ³  μλ‹¤ β†’ DIP μ„λ°

    - OCP : λ³€κ²½ν•μ§€ μ•κ³  ν™•μ¥ κ°€λ¥ν•΄μ•Όν•λ”λ°, ν•„μ—°μ μΌλ΅ μ½”λ“ μμ •μ΄ ν•„μ”ν•λ‹¤

## ν•΄κ²° λ°©λ²•

- μ΄ λ¬Έμ λ¥Ό ν•΄κ²°ν•λ ¤λ©΄ λ¬΄μ–Έκ°€κ°€ ν΄λΌμ΄μ–ΈνΈμΈ MemberServiceImplμ— MemberRepositoryμ κµ¬ν„ κ°μ²΄λ¥Ό λ€μ‹  `μƒμ„±`ν•κ³  `μ£Όμ…`ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤

### κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬

> κ΄€μ‹¬μ‚¬λ¥Ό λ¶„λ¦¬ν•μ <br>
> λ°°μ°λ” λ³ΈμΈμ μ—­ν• μΈ λ°°μ—­μ„ μν–‰ν•λ” κ²ƒμ—λ§ μ§‘μ¤‘ν•΄μ•Ό ν•λ‹¤. <br>
> λ””μΉ΄ν”„λ¦¬μ¤λ” μ–΄λ–¤ μ—¬μ μ£ΌμΈκ³µμ΄ μ„ νƒλλ”λΌλ„ λ‘κ°™μ΄ κ³µμ—°μ„ ν•  μ μμ–΄μ•Ό ν•λ‹¤. <br>
> κ³µμ—°μ„ κµ¬μ„±ν•κ³ , λ‹΄λ‹Ή λ°°μ°λ¥Ό μ„­μ™Έν•κ³ , μ—­ν• μ— λ§λ” λ°°μ°λ¥Ό μ§€μ •ν•λ” μ±…μ„μ„ λ‹΄λ‹Ήν•λ” λ³„λ„μ κ³µμ—° κΈ°νμκ°€ λ‚μ¬μ‹μ μ΄λ‹¤.<br>
> κ³µμ—° κΈ°νμλ¥Ό λ§λ“¤κ³ , λ°°μ°μ™€ κ³µμ—° κΈ°νμμ μ±…μ„μ„ ν™•μ‹¤ν λ¶„λ¦¬ν•μ.

<br>
μ¦‰, μ–΄ν”λ¦¬μΌ€μ΄μ…μ μ „μ²΄ λ™μ‘ λ°©μ‹μ„ κµ¬μ„±(config)ν•κΈ° μ„ν•΄, `κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³ , μ—°κ²°ν•λ” μ±…μ„`μ„ κ°€μ§€λ” λ³„λ„μ μ„¤μ • ν΄λμ¤λ¥Ό λ§λ“¤μ–΄μ•Ό ν•λ‹¤
<br>

```java
// AppConfig.java
public class AppConfig {

    public MemberService memberService() {
        return new MemberServiceImpl(memberRepository());
    }

    public MemberRepository memberRepository() {
        return new MemoryMemberRepository();
    }
    // ...
}

// MemberServiceImpl.java
public class MemberServiceImpl implements MemberService {

    private final MemberRepository memberRepository;

    public MemberServiceImpl(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }
    
    // ...
}
```
<br>

- MemberServiceImplμ€ λ”μ΄μƒ κµ¬ν„μ²΄λ¥Ό μμ΅΄ν•μ§€ μ•μΌλ©°, MemberRepository μΈν„°νμ΄μ¤μ— μ •μλ λ©”μ†λ“λ§ μ•λ©΄ λλ‹¤

- μμ΅΄ κ΄€κ³„λ” μ™Έλ¶€(AppConfig)μ— μ¨μ „ν λ§΅κΈ΄λ‹¤

- MemberRepositoryμ κµ¬ν„μ²΄κ°€ λ°”λ€λ”λΌλ„ μ™Έλ¶€(AppConfig)μ—μ„λ§ λ‹¤λ¥΄κ² μ£Όμ…ν•΄μ£Όλ©΄ λλ‹¤

- κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ—°κ²°ν•λ” μ—­ν• κ³Ό μ‹¤ν–‰ν•λ” μ—­ν• μ΄ λ…ν™•ν λ¶„λ¦¬λμ—λ‹¤


(κ³„μ†)